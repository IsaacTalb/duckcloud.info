# Environment Variables

## Overview

This file documents all environment variables used in the Duck Cloud website.

## üìã Environment Files

- `.env.local` - Local development variables (NOT committed to git)
- `.env.development` - Development environment
- `.env.production` - Production environment
- `.env.example` - Template with all available variables

## üîß Configuration

### Development (.env.local)

```bash
# API Configuration
NEXT_PUBLIC_API_URL=http://localhost:5000
NEXT_PUBLIC_API_TIMEOUT=10000

# Site Configuration
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_SITE_NAME=Duck Cloud

# Analytics
NEXT_PUBLIC_GA_ID=
NEXT_PUBLIC_ANALYTICS_ENABLED=false

# Features
NEXT_PUBLIC_ENABLE_BETA_FEATURES=true
NEXT_PUBLIC_MAINTENANCE_MODE=false

# Debug
NEXT_DEBUG=true
```

### Production (.env.production)

```bash
# API Configuration
NEXT_PUBLIC_API_URL=https://api.duckcloud.info
NEXT_PUBLIC_API_TIMEOUT=10000

# Site Configuration
NEXT_PUBLIC_SITE_URL=https://duckcloud.info
NEXT_PUBLIC_SITE_NAME=Duck Cloud

# Analytics
NEXT_PUBLIC_GA_ID=UA-XXXXXXX-X
NEXT_PUBLIC_ANALYTICS_ENABLED=true

# Features
NEXT_PUBLIC_ENABLE_BETA_FEATURES=false
NEXT_PUBLIC_MAINTENANCE_MODE=false

# Security
NEXT_PUBLIC_CSP_ENABLED=true
```

## üìñ Variable Reference

### Public Variables (NEXT_PUBLIC_*)

These variables are exposed to the client and visible in the browser.

#### API Configuration

| Variable | Type | Default | Description |
|----------|------|---------|-------------|
| `NEXT_PUBLIC_API_URL` | string | `http://localhost:5000` | Backend API base URL |
| `NEXT_PUBLIC_API_TIMEOUT` | number | `10000` | API request timeout in ms |
| `NEXT_PUBLIC_API_VERSION` | string | `v1` | API version |

#### Site Configuration

| Variable | Type | Default | Description |
|----------|------|---------|-------------|
| `NEXT_PUBLIC_SITE_URL` | string | `http://localhost:3000` | Website URL |
| `NEXT_PUBLIC_SITE_NAME` | string | `Duck Cloud` | Website name |
| `NEXT_PUBLIC_SITE_DESCRIPTION` | string | `...` | SEO description |

#### Analytics

| Variable | Type | Default | Description |
|----------|------|---------|-------------|
| `NEXT_PUBLIC_GA_ID` | string | `` | Google Analytics ID |
| `NEXT_PUBLIC_ANALYTICS_ENABLED` | boolean | `false` | Enable analytics |
| `NEXT_PUBLIC_HOTJAR_ID` | string | `` | Hotjar tracking ID |

#### Features

| Variable | Type | Default | Description |
|----------|------|---------|-------------|
| `NEXT_PUBLIC_ENABLE_BETA_FEATURES` | boolean | `false` | Enable beta features |
| `NEXT_PUBLIC_MAINTENANCE_MODE` | boolean | `false` | Enable maintenance page |
| `NEXT_PUBLIC_FEATURE_FLAGS` | string | `` | JSON feature flags |

#### Social

| Variable | Type | Default | Description |
|----------|------|---------|-------------|
| `NEXT_PUBLIC_TWITTER_URL` | string | `` | Twitter URL |
| `NEXT_PUBLIC_GITHUB_URL` | string | `` | GitHub URL |
| `NEXT_PUBLIC_DISCORD_URL` | string | `` | Discord URL |
| `NEXT_PUBLIC_EMAIL` | string | `` | Contact email |

### Private Variables (Server-only)

These variables are NOT exposed to the client.

#### Database

| Variable | Type | Description |
|----------|------|-------------|
| `DATABASE_URL` | string | Database connection string |
| `DATABASE_USER` | string | Database username |
| `DATABASE_PASSWORD` | string | Database password |

#### Authentication

| Variable | Type | Description |
|----------|------|-------------|
| `JWT_SECRET` | string | JWT signing secret |
| `API_KEY` | string | API key for backend |
| `API_SECRET` | string | API secret for backend |

#### Services

| Variable | Type | Description |
|----------|------|-------------|
| `SENDGRID_API_KEY` | string | SendGrid email API key |
| `STRIPE_SECRET_KEY` | string | Stripe secret key |
| `STRIPE_WEBHOOK_SECRET` | string | Stripe webhook secret |

#### Monitoring

| Variable | Type | Description |
|----------|------|-------------|
| `SENTRY_DSN` | string | Sentry error tracking DSN |
| `LOG_LEVEL` | string | Log level (debug, info, warn, error) |

## üìù Example Files

### .env.example

```bash
# Copy this file to .env.local and fill in the values

# ============================================================================
# PUBLIC VARIABLES (visible in browser)
# ============================================================================

# API Configuration
NEXT_PUBLIC_API_URL=http://localhost:5000
NEXT_PUBLIC_API_TIMEOUT=10000
NEXT_PUBLIC_API_VERSION=v1

# Site Configuration
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_SITE_NAME=Duck Cloud
NEXT_PUBLIC_SITE_DESCRIPTION=Innovative tools and software for developers

# Analytics
NEXT_PUBLIC_GA_ID=
NEXT_PUBLIC_ANALYTICS_ENABLED=false
NEXT_PUBLIC_HOTJAR_ID=

# Features
NEXT_PUBLIC_ENABLE_BETA_FEATURES=true
NEXT_PUBLIC_MAINTENANCE_MODE=false

# Social
NEXT_PUBLIC_TWITTER_URL=https://twitter.com/duckcloud
NEXT_PUBLIC_GITHUB_URL=https://github.com/duck-cloud-info
NEXT_PUBLIC_DISCORD_URL=https://discord.gg/duckcloud
NEXT_PUBLIC_EMAIL=contact@duckcloud.info

# ============================================================================
# PRIVATE VARIABLES (server-side only)
# ============================================================================

# Authentication
JWT_SECRET=your-jwt-secret-key-here
API_KEY=your-api-key-here
API_SECRET=your-api-secret-here

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/duckcloud
DATABASE_USER=postgres
DATABASE_PASSWORD=password

# Email Service
SENDGRID_API_KEY=

# Payment
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Monitoring
SENTRY_DSN=
LOG_LEVEL=info

# Debug
NEXT_DEBUG=false
```

## üîí Security Guidelines

### DO ‚úÖ
- Use `.env.local` for local development
- Never commit `.env.local` to git
- Use different values for each environment
- Rotate secrets regularly
- Use strong, random values for secrets
- Keep environment files secure

### DON'T ‚ùå
- Don't expose secrets in code
- Don't commit .env files to git
- Don't share .env files in chat
- Don't use same secret for multiple environments
- Don't use weak or predictable values
- Don't log sensitive variables

## üöÄ Setting Up Environments

### Local Development

1. Create `.env.local`:
```bash
cp .env.example .env.local
```

2. Edit `.env.local` with your local values

3. Restart dev server:
```bash
npm run dev
```

### Production

Use your hosting platform's environment variable configuration:

**Vercel:**
- Project Settings ‚Üí Environment Variables
- Add variables for production

**AWS:**
- Use Elastic Beanstalk ‚Üí Configuration ‚Üí Environment Properties

**DigitalOcean:**
- App Settings ‚Üí Environment Variables

**Docker:**
```bash
docker run -e NEXT_PUBLIC_API_URL=... duckcloud
```

## üîÑ Dynamic Configuration

### Using env variables in code

```typescript
// Client-side (accessible in browser)
const apiUrl = process.env.NEXT_PUBLIC_API_URL;
const gaId = process.env.NEXT_PUBLIC_GA_ID;

// Server-side (NOT accessible in browser)
const dbUrl = process.env.DATABASE_URL;
const jwtSecret = process.env.JWT_SECRET;
```

### In components

```typescript
'use client';

export const MyComponent = () => {
  const apiUrl = process.env.NEXT_PUBLIC_API_URL;
  
  return <div>API: {apiUrl}</div>;
};
```

## üß™ Testing Environment Variables

```bash
# Print all public env vars
printenv | grep NEXT_PUBLIC_

# Check specific variable
echo $NEXT_PUBLIC_API_URL

# In Node.js
console.log(process.env.NEXT_PUBLIC_API_URL);
```

## üìã Checklist

Before deploying:

- [ ] All required variables are set
- [ ] No secrets in code
- [ ] Correct URLs for each environment
- [ ] API keys are valid
- [ ] Feature flags are correct
- [ ] Analytics ID is correct
- [ ] Email configuration is correct
- [ ] Database connection is valid

## ‚ö†Ô∏è Common Issues

### Variable not working
- Check variable name (case-sensitive)
- Ensure it starts with `NEXT_PUBLIC_` for client-side
- Restart dev server after changes

### Secrets exposed
- Rotate all exposed secrets
- Verify `.env.local` is in `.gitignore`
- Check git history for leaks

### Wrong environment
- Check which environment file is being used
- Verify deployer is using correct vars
- Use environment-specific files

## üìû Support

For environment configuration help:
1. Check `.env.example` for all available variables
2. Review hosting platform's documentation
3. Check `.gitignore` includes `.env.local`
4. Restart server after changes

---

**Last Updated**: November 11, 2025
